---
title: "Facebook粉絲團分析"
author: "B0244213"
date: "2016年4月6日"
output: ioslides_presentation
subtitle: 資料讀取與處理
highlighter: highlight.js
---

程式説明：分析民進黨員蔡英文粉絲專頁，資料分析區間為2016/01/01 至 2016/04/06

##讀取蔡英文粉絲團資料
```{r}
if (!require('Rfacebook')){
    install.packages("Rfacebook")
    library(Rfacebook)
}

token<-'CAACEdEose0cBAA0dCeZC8IOMabLZC1JAQ26fktSQpZA4D6xbWsC2xwEI6Ufe7L9WAm4i4K7ZCVrdzvhLi36vN6iVNwamTZA8JREH2jSujDR006tkZBnIPzEtgU2OgVOPZCevFhBZAEaevjprjrs5WdgZBJZCg6HAN7bjOzfyyJvU5j1OTzuVQZAGVOx424ZAUct8X2xuKhvFpZBcoVZAegVnPmb1Pb'
totalPage<-NULL
lastDate<-Sys.Date()
DateVectorStr<-as.character(seq(as.Date("2016-01-01"),lastDate,by="5 days"))
for(i in 1:(length(DateVectorStr)-1)){
    tempPage<-getPage("cherngs.y", token,
                      since = DateVectorStr[i],until = DateVectorStr[i+1])
    totalPage<-rbind(totalPage,tempPage)
}
nrow(totalPage)
```
2016/01/01至2016/04/06蔡英文粉絲團一共有60篇文章
##每日發文數分析
```{r}
totalPage$datetime <- as.POSIXct(totalPage$created_time, 
                                 format = "%Y-%m-%dT%H:%M:%S+0000", 
                                 tz = "GMT") #2016-01-16T15:05:36+0000
totalPage$dateTPE <- format(totalPage$datetime, "%Y-%m-%d", 
                            tz = "Asia/Taipei") #2016-01-16
totalPage$weekdays <-weekdays(as.Date(totalPage$dateTPE))
PostCount<-aggregate(id~dateTPE,totalPage,length)
library(knitr)
kable(head(PostCount[order(PostCount$id,decreasing = T),]))
```
2016/04/01（週五）的發文數最多，一共有五篇，2016/01/23和2016/04/03居次，有可能是因為04/01是愚人節阿XDD  哈哈哈

|   |dateTPE    | id|
|:--|:----------|--:|
|39 |2016-04-01 |  5|
|11 |2016-01-23 |  3|
|40 |2016-04-03 |  3|
|1  |2016-01-01 |  2|
|5  |2016-01-14 |  2|
|6  |2016-01-16 |  2|
##每日likes數分析
```{r}
totalPage$datetime <- as.POSIXct(totalPage$created_time, 
                                 format = "%Y-%m-%dT%H:%M:%S+0000", 
                                 tz = "GMT") #2016-01-16T15:05:36+0000
totalPage$dateTPE <- format(totalPage$datetime, "%Y-%m-%d", 
                            tz = "Asia/Taipei") #2016-01-16
totalPage$weekdays <-weekdays(as.Date(totalPage$dateTPE))
PostCount<-aggregate(likes_count~dateTPE,totalPage,mean)
library(knitr)
kable(head(PostCount[order(PostCount$likes_count,decreasing = T),]))
```
|   |dateTPE    | likes_count|
|:--|:----------|-----------:|
|12 |2016-01-24 |     62419.0|
|34 |2016-03-21 |     54887.0|
|30 |2016-03-07 |     50340.0|
|18 |2016-02-10 |     48748.0|
|6  |2016-01-16 |     48668.5|
|37 |2016-03-24 |     42711.0|
2016/01/24（週日）的按讚數最多，一共有6萬多人，2016/03/21和2016/3/07居次，由此可知自從她當選總統後按讚數與日俱增。

##每日comments數分析
```{r}

```
